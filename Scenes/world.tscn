[gd_scene load_steps=65 format=3 uid="uid://c30os61jb8011"]

[ext_resource type="Script" path="res://Scripts/ui.gd" id="1_3m7vh"]
[ext_resource type="Texture2D" uid="uid://dn1k6r2k5g320" path="res://Assets/Environment/1024-64-checkers.png" id="1_3n5an"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape_closed.gd" id="1_7cj3u"]
[ext_resource type="Theme" uid="uid://b1fexidhs8ulp" path="res://default_theme.tres" id="1_vqwyh"]
[ext_resource type="Texture2D" uid="uid://jd1nb4qjqmcs" path="res://Assets/Environment/1024-128-checkers.png" id="2_fk2mt"]
[ext_resource type="AudioStream" uid="uid://cwffbichtccbh" path="res://Assets/Sounds/exit_hit.wav" id="2_qnbc1"]
[ext_resource type="Script" path="res://addons/rmsmartshape/normal_range.gd" id="2_w6cva"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/edge_material_metadata.gd" id="3_c8ksk"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="4_k07je"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="5_d5yce"]
[ext_resource type="Shader" path="res://outline.gdshader" id="5_q1fs7"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="6_0s5g0"]
[ext_resource type="Texture2D" uid="uid://stmy7nm68hum" path="res://Assets/Slimetoken.png" id="6_mk8yg"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/shape_material.gd" id="8_ljcii"]
[ext_resource type="Script" path="res://Scripts/transform_follow.gd" id="9_orlsd"]
[ext_resource type="PackedScene" uid="uid://bw3ib4ncn4smp" path="res://Scenes/biomech.tscn" id="10_q56ow"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="11_vdc8c"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="12_kwqka"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="13_4w1hd"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/edge_material.gd" id="13_5puyk"]
[ext_resource type="Texture2D" uid="uid://ce06c1quspbpe" path="res://Assets/Environment/GroundOutlineTop.png" id="15_inw7q"]
[ext_resource type="Texture2D" uid="uid://bad6w60bsnacb" path="res://Assets/Environment/256-checkers.png" id="15_l6i8h"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_f0cq6"]
shader = ExtResource("5_q1fs7")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 5.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true

[sub_resource type="Animation" id="Animation_t6q08"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/width")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [5.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_ln3bj"]
resource_name = "idle"
length = 5.0
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/width")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2.5, 5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [5.0, 10.0, 5.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.25, 3.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.261799, -0.261799]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1owa6"]
_data = {
"RESET": SubResource("Animation_t6q08"),
"idle": SubResource("Animation_ln3bj")
}

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_rmppk"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_sok23"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="Resource" id="Resource_k5ngk"]
script = ExtResource("2_w6cva")
begin = 0.0
distance = 360.0
edgeRendering = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_isc5i"]
script = ExtResource("3_c8ksk")
normal_range = SubResource("Resource_k5ngk")
weld = true
render = true
z_index = 0
z_as_relative = true
offset = 0.0

[sub_resource type="Resource" id="Resource_c703b"]
script = ExtResource("4_k07je")
texture_idx = -18
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_swh4x"]
script = ExtResource("5_d5yce")
position = Vector2(-587.873, 85.9558)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_c703b")

[sub_resource type="Resource" id="Resource_e65ne"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_kc6n8"]
script = ExtResource("5_d5yce")
position = Vector2(524.008, 91.6255)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_e65ne")

[sub_resource type="Resource" id="Resource_b6ipg"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_aasdc"]
script = ExtResource("5_d5yce")
position = Vector2(120.265, -572.28)
point_in = Vector2(-13.2142, 100.051)
point_out = Vector2(13.2142, -100.051)
properties = SubResource("Resource_b6ipg")

[sub_resource type="Resource" id="Resource_kordm"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_qhrmr"]
script = ExtResource("5_d5yce")
position = Vector2(553.605, -454.552)
point_in = Vector2(-196.326, -128.367)
point_out = Vector2(196.326, 128.367)
properties = SubResource("Resource_kordm")

[sub_resource type="Resource" id="Resource_7uxdg"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ttows"]
script = ExtResource("5_d5yce")
position = Vector2(913.891, 277.501)
point_in = Vector2(154.795, -305.815)
point_out = Vector2(-154.795, 305.815)
properties = SubResource("Resource_7uxdg")

[sub_resource type="Resource" id="Resource_u3mrp"]
script = ExtResource("4_k07je")
texture_idx = 1
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_qxi17"]
script = ExtResource("5_d5yce")
position = Vector2(-818.578, 291.934)
point_in = Vector2(198.214, 273.724)
point_out = Vector2(-198.214, -273.724)
properties = SubResource("Resource_u3mrp")

[sub_resource type="Resource" id="Resource_glc1o"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_0c1pm"]
script = ExtResource("5_d5yce")
position = Vector2(-811.07, -380.395)
point_in = Vector2(-101.938, 132.142)
point_out = Vector2(101.938, -132.142)
properties = SubResource("Resource_glc1o")

[sub_resource type="Resource" id="Resource_r52g1"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_fulj0"]
script = ExtResource("5_d5yce")
position = Vector2(-633.281, -378.807)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_r52g1")

[sub_resource type="Resource" id="Resource_y7yxx"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_wucj8"]
script = ExtResource("5_d5yce")
position = Vector2(-588.834, -275.626)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_y7yxx")

[sub_resource type="Resource" id="Resource_qbc72"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_rhd0q"]
script = ExtResource("5_d5yce")
position = Vector2(31.8395, -270.864)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_qbc72")

[sub_resource type="Resource" id="Resource_7wlp6"]
script = ExtResource("4_k07je")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_pqqb8"]
script = ExtResource("5_d5yce")
position = Vector2(29.9518, -220.711)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_7wlp6")

[sub_resource type="Resource" id="Resource_0l2hi"]
script = ExtResource("4_k07je")
texture_idx = 5
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_wf3ic"]
script = ExtResource("5_d5yce")
position = Vector2(-529.928, -123.063)
point_in = Vector2(73.6222, -98.1629)
point_out = Vector2(-73.6222, 98.1629)
properties = SubResource("Resource_0l2hi")

[sub_resource type="Resource" id="Resource_bq260"]
script = ExtResource("4_k07je")
texture_idx = -18
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ne5fq"]
script = ExtResource("5_d5yce")
position = Vector2(-587.873, 85.9558)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_bq260")

[sub_resource type="Resource" id="Resource_yoxq1"]
script = ExtResource("6_0s5g0")
_points = {
0: SubResource("Resource_swh4x"),
1: SubResource("Resource_kc6n8"),
2: SubResource("Resource_aasdc"),
4: SubResource("Resource_qhrmr"),
5: SubResource("Resource_ttows"),
6: SubResource("Resource_qxi17"),
7: SubResource("Resource_0c1pm"),
8: SubResource("Resource_fulj0"),
9: SubResource("Resource_wucj8"),
10: SubResource("Resource_rhd0q"),
11: SubResource("Resource_pqqb8"),
12: SubResource("Resource_wf3ic"),
13: SubResource("Resource_ne5fq")
}
_point_order = Array[int]([0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13])
_constraints = {
Array[int]([0, 13]): 15
}
_next_key = 75
_material_overrides = {
Array[int]([3, 4]): SubResource("Resource_isc5i")
}

[sub_resource type="CanvasTexture" id="CanvasTexture_ew20a"]
diffuse_texture = ExtResource("15_inw7q")
texture_repeat = 2

[sub_resource type="Resource" id="Resource_8l1di"]
script = ExtResource("13_5puyk")
textures = Array[Texture2D]([SubResource("CanvasTexture_ew20a")])
textures_corner_outer = Array[Texture2D]([])
textures_corner_inner = Array[Texture2D]([])
textures_taper_left = Array[Texture2D]([])
textures_taper_right = Array[Texture2D]([])
randomize_texture = false
use_corner_texture = false
use_taper_texture = false
fit_mode = 0

[sub_resource type="Resource" id="Resource_qf3tx"]
script = ExtResource("2_w6cva")
begin = 0.0
distance = 360.0
edgeRendering = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_7jyns"]
script = ExtResource("3_c8ksk")
edge_material = SubResource("Resource_8l1di")
normal_range = SubResource("Resource_qf3tx")
weld = true
render = true
z_index = 0
z_as_relative = true
offset = -1.1

[sub_resource type="CanvasTexture" id="CanvasTexture_06ofy"]
diffuse_texture = ExtResource("15_l6i8h")
texture_repeat = 2

[sub_resource type="Resource" id="Resource_jhrfs"]
script = ExtResource("8_ljcii")
_edge_meta_materials = Array[ExtResource("3_c8ksk")]([SubResource("Resource_7jyns")])
fill_textures = Array[Texture2D]([SubResource("CanvasTexture_06ofy"), null])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 1.0
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(0, 0)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[sub_resource type="Resource" id="Resource_wvy6q"]
script = ExtResource("13_4w1hd")
duration = 2.0
transition = 1
ease = 1

[node name="World" type="Node2D"]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Small" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.4, 0.4)
motion_mirroring = Vector2(1024, 1024)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Small"]
self_modulate = Color(0.105882, 0.105882, 0.105882, 1)
texture_filter = 1
texture_repeat = 2
texture = ExtResource("1_3n5an")
centered = false

[node name="Big" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.2, 0.2)
motion_mirroring = Vector2(1024, 1024)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Big"]
self_modulate = Color(0.14902, 0.14902, 0.14902, 1)
texture_filter = 1
texture_repeat = 2
texture = ExtResource("2_fk2mt")
centered = false

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("1_3m7vh")

[node name="MarginContainer" type="MarginContainer" parent="UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="MessageContainer" type="PanelContainer" parent="UI/MarginContainer"]
layout_mode = 2
size_flags_vertical = 0

[node name="MarginContainer" type="MarginContainer" parent="UI/MarginContainer/MessageContainer"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="Message" type="Label" parent="UI/MarginContainer/MessageContainer/MarginContainer"]
custom_minimum_size = Vector2(884, 71)
layout_mode = 2
size_flags_vertical = 1
theme = ExtResource("1_vqwyh")
horizontal_alignment = 2
autowrap_mode = 3
visible_characters_behavior = 1

[node name="SpinsContainer" type="PanelContainer" parent="UI/MarginContainer"]
visible = false
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 8

[node name="MarginContainer" type="MarginContainer" parent="UI/MarginContainer/SpinsContainer"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="Spins" type="Label" parent="UI/MarginContainer/SpinsContainer/MarginContainer"]
layout_mode = 2
size_flags_vertical = 1
theme = ExtResource("1_vqwyh")

[node name="CollectiblesContainer" type="PanelContainer" parent="UI/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8

[node name="MarginContainer" type="MarginContainer" parent="UI/MarginContainer/CollectiblesContainer"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="HSplitContainer" type="HSplitContainer" parent="UI/MarginContainer/CollectiblesContainer/MarginContainer"]
layout_mode = 2

[node name="Collectibles" type="Label" parent="UI/MarginContainer/CollectiblesContainer/MarginContainer/HSplitContainer"]
layout_mode = 2
size_flags_vertical = 1
theme = ExtResource("1_vqwyh")
text = "0"

[node name="TextureRect" type="TextureRect" parent="UI/MarginContainer/CollectiblesContainer/MarginContainer/HSplitContainer"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 2
texture = ExtResource("6_mk8yg")
expand_mode = 3

[node name="CollectiblesTexture" type="TextureRect" parent="UI"]
material = SubResource("ShaderMaterial_f0cq6")
offset_right = 59.4239
offset_bottom = 71.0
pivot_offset = Vector2(29.712, 35)
texture = ExtResource("6_mk8yg")
expand_mode = 3

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/CollectiblesTexture"]
libraries = {
"": SubResource("AnimationLibrary_1owa6")
}
autoplay = "idle"

[node name="QuitProgress" type="ProgressBar" parent="UI"]
anchors_preset = 10
anchor_right = 1.0
offset_right = 1.0
offset_bottom = 27.0
grow_horizontal = 2
size_flags_vertical = 1
theme_override_styles/background = SubResource("StyleBoxEmpty_rmppk")
theme_override_styles/fill = SubResource("StyleBoxFlat_sok23")
show_percentage = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="UI/QuitProgress"]
stream = ExtResource("2_qnbc1")
volume_db = -12.0
bus = &"SFX"

[node name="NPCs" type="Node2D" parent="."]
z_index = 1

[node name="Props" type="Node2D" parent="."]

[node name="Environment" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Environment"]
position = Vector2(613.8, 524.111)

[node name="SS2D_Shape_Closed" type="Node2D" parent="Environment/StaticBody2D"]
script = ExtResource("1_7cj3u")
_points = SubResource("Resource_yoxq1")
shape_material = SubResource("Resource_jhrfs")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Environment/StaticBody2D"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(-587.781, 85.8584, 523.768, 91.5001, 317.181, -202.808, 177.775, -426.336, 133.819, -515.027, 127.193, -532.758, 122.621, -548.336, 120.26, -561.573, 119.957, -567.254, 120.264, -572.28, 121.037, -576.832, 122.113, -581.109, 123.486, -585.116, 125.152, -588.856, 127.104, -592.332, 129.337, -595.548, 131.847, -598.507, 134.626, -601.213, 137.671, -603.668, 140.975, -605.877, 144.532, -607.843, 148.339, -609.569, 156.675, -612.317, 165.941, -614.146, 176.091, -615.086, 187.083, -615.165, 211.418, -612.845, 238.596, -607.408, 268.268, -599.073, 333.702, -574.594, 404.929, -541.172, 553.605, -454.552, 631.802, -398.785, 714.493, -329.02, 794.694, -247.15, 865.419, -155.069, 895.046, -105.791, 919.686, -54.67, 938.465, -1.94305, 950.509, 52.1535, 953.734, 79.6414, 954.947, 107.383, 954.041, 135.348, 950.906, 163.508, 945.432, 191.833, 937.511, 220.293, 927.034, 248.859, 913.891, 277.501, 905.748, 291.6, 895.865, 305.226, 884.298, 318.381, 871.103, 331.068, 840.047, 355.039, 803.136, 377.151, 760.812, 397.417, 713.514, 415.85, 605.763, 447.265, 349.965, 488.633, 63.9386, 502.045, -224.123, 488.292, -486.026, 448.162, -598.357, 418.453, -693.576, 382.446, -733.667, 362.112, -768.158, 340.24, -783.166, 328.732, -796.608, 316.844, -808.431, 304.577, -818.578, 291.934, -852.279, 240.727, -879.346, 189.876, -900.225, 139.568, -915.362, 89.9879, -925.201, 41.3226, -930.187, -6.2418, -930.765, -52.5193, -927.381, -97.3238, -920.48, -140.469, -910.507, -181.769, -883.123, -258.089, -848.791, -324.794, -811.071, -380.396, -792.275, -402.154, -783.129, -410.879, -774.164, -418.266, -765.387, -424.388, -756.809, -429.318, -748.439, -433.129, -740.286, -435.895, -732.358, -437.688, -724.664, -438.582, -717.216, -438.649, -710.019, -437.963, -703.086, -436.598, -696.423, -434.626, -690.041, -432.12, -683.948, -429.155, -672.668, -422.135, -662.656, -414.152, -653.984, -405.791, -646.725, -397.638, -636.739, -384.295, -633.28, -378.808, -588.789, -275.694, 31.9492, -270.969, 30.0454, -220.618, -222.38, -208.698, -320.425, -197.097, -411.387, -179.732, -450.921, -168.526, -484.733, -155.442, -499.082, -148.151, -511.507, -140.336, -521.844, -131.979, -526.178, -127.592, -529.928, -123.063, -542.711, -104.539, -553.555, -85.8979, -570.04, -48.991, -580.615, -13.79, -586.508, 18.2576, -588.951, 45.7038, -589.172, 67.1008)

[node name="PlayerFollow" type="Node2D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("9_orlsd")
target = NodePath("../Biomech")
player = true

[node name="Biomech" parent="." instance=ExtResource("10_q56ow")]
position = Vector2(583, 412)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.2, 1.2)

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
script = ExtResource("11_vdc8c")

[node name="PlayerCam" type="Node2D" parent="."]
script = ExtResource("12_kwqka")
priority_override = false
priority = 0
zoom = Vector2(1.2, 1.2)
follow_mode = 1
follow_target = NodePath("../PlayerFollow")
follow_parameters/damping = true
follow_parameters/damping_value = 1.0
frame_preview = false
pixel_perfect = false
limit/draw_limits = false
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/limit_node_target = NodePath("")
limit/smoothed = false
tween_parameters = SubResource("Resource_wvy6q")
tween_on_load = true
inactive_update_mode = 0

[connection signal="finished" from="UI/QuitProgress/AudioStreamPlayer" to="UI" method="_on_audio_finished"]
